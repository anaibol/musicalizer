var select = require("./index"),
    JSONSelect = require("JSONSelect"),
    traverse = require("traverse");

var people = {
   "mary": {
       age: 15,
       movies: [{
           name: "Twilight",
           stars: false
       },
       {   name: "Clueless",
           stars: 5
       }]
   },
   "george": {
      lang: "eng",
      stars: 6
   },
   "changeset": {
      changes: [{
          field_name: "status"
       }, {
          field_name: "resolution"
       }
      ]
   }
};

select(people, ".changes > *").forEach(function(node) {
  console.log(this.parent.keys)
  //console.log(this.prev && this.prev.key);
  //var parent = this.key;
})

console.log(select(people, ".changes > *").nodes())
/*
var selector = ':contains("Clueless")';
console.log(select(people, selector).nodes())
console.log(JSONSelect.match(selector, people))
*/